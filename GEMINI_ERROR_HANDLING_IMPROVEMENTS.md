# ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏∞‡∏ö‡∏ö Gemini API Error Handling ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

## ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö Gemini API errors ‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢ retry mechanism ‡πÅ‡∏•‡∏∞ rate limiting

## ‚úÖ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

1. ‚úÖ ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Gemini API quota ‡∏´‡∏°‡∏î (429 error) ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
2. ‚úÖ ‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö retry ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠ rate limit (exponential backoff)
3. ‚úÖ ‡∏°‡∏µ rate limiter ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡∏ö‡πà‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (10 requests/60s)
4. ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
5. ‚úÖ ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ö‡∏ï‡∏Å, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï)

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

### 1. Backend (app.py)

#### 1.1 Retry Mechanism
```python
@retry_on_quota_error(max_retries=2, initial_delay=20)
def call_gemini_with_retry(prompt_or_payload, task_type='prediction_analysis'):
    """‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Gemini ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö retry"""
    # ‡∏•‡∏≠‡∏á 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á (initial + 2 retries) ‡∏Å‡∏±‡∏ö exponential backoff: 20s, 40s, 80s
```

**‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥:**
- Retry ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠ quota error
- Exponential backoff: 20 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí 40 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí 80 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö error patterns: `429`, `quota`, `resource exhausted`

#### 1.2 Rate Limiter
```python
class RateLimiter:
    """Rate limiter ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Gemini API"""
    def __init__(self, max_requests=10, time_window=60):
        # ‡∏à‡∏≥‡∏Å‡∏±‡∏î 10 requests ‡∏ï‡πà‡∏≠ 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
```

**‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥:**
- ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 10 requests/minute
- Sliding window algorithm
- ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô limit

#### 1.3 ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Error Handling
```python
@app.route('/api/gemini/predict', methods=['POST'])
def gemini_predict_route():
    # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö rate limit ‡∏Å‡πà‡∏≠‡∏ô
    can_proceed, wait_time = gemini_rate_limiter.can_proceed()
    if not can_proceed:
        return jsonify({
            'error': f'‚è±Ô∏è ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡πà‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠ {wait_time} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ',
            'retry_after': wait_time
        }), 429
```

**Error Codes ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:**
- **503**: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API Key
- **429**: Quota ‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡πà‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
- **500**: ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏≠‡∏∑‡πà‡∏ô‡πÜ

#### 1.4 ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå
```python
def summarize_grades_for_gemini(course_grades, loaded_terms_count):
    return {
        'total_courses': len(course_grades),
        'estimated_gpa': estimated_gpa,
        'total_credits_recorded': total_credits,
        'failed_courses': failed_courses,  # ‚ú® ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
        'failed_count': len(failed_courses)  # ‚ú® ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
    }
```

### 2. Frontend (templates/curriculum_prediction_form.html)

#### 2.1 ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Error Detection
```javascript
async function fetchGeminiPrediction(payload, signal) {
    const response = await fetch('/api/gemini/predict', ...);
    
    if (!response.ok) {
        if (response.status === 429) {
            throw new Error('‚ö†Ô∏è ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤ Gemini API ‡∏´‡∏°‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß\n' +
                '‚Ä¢ ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Free Tier Limit\n' +
                '‚Ä¢ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏£‡∏≠ 1-2 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î API Key\n' +
                '‚Ä¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥');
        } else if (response.status === 503) {
            throw new Error('‚ö†Ô∏è ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Gemini API Key\n' +
                '‚Ä¢ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ GEMINI_API_KEY');
        }
        // ... handle other errors
    }
}
```

**‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö HTTP status code ‡πÄ‡∏â‡∏û‡∏≤‡∏∞
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£
- ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‚úÖ Unit Tests
‡πÑ‡∏ü‡∏•‡πå: `/tmp/test_gemini_improvements.py`

```bash
python3 /tmp/test_gemini_improvements.py
```

**‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
- ‚úÖ RateLimiter ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (3/3 allowed, 4th blocked)
- ‚úÖ Retry mechanism ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (3 attempts with backoff)
- ‚úÖ Error detection ‡∏£‡∏∞‡∏ö‡∏∏ quota errors ‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### ‚úÖ Code Verification
```bash
python3 -m py_compile app.py  # ‚úÖ Syntax valid
```

## ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ

### ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‚ùå
```
Error: 429 - Quota exceeded
(‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢, ‡πÑ‡∏°‡πà‡∏°‡∏µ retry, ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ö‡∏™‡∏ô)
```

### ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‚úÖ
```
‚ö†Ô∏è ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤ Gemini API ‡∏´‡∏°‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
‚Ä¢ ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô Free Tier Limit
‚Ä¢ Free tier: 15 requests/minute, 1,500 requests/day
‚Ä¢ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏£‡∏≠ 1-2 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏õ‡πá‡∏ô Paid Tier
‚Ä¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà...)
‚Ä¢ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠ 45 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
```

## Gemini API Limits (Free Tier)

| Limit Type | Value |
|------------|-------|
| Requests per minute | 15 |
| Requests per day | 1,500 |
| Tokens per minute | 1 million |
| Rate limiter (our setting) | 10 per minute |

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** Rate limiter ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà 10 requests/minute ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ free tier limit (15/min) ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

## ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API

```python
# ‡πÉ‡∏ä‡πâ call_gemini_with_retry ‡πÅ‡∏ó‡∏ô call_gemini_structured
result = call_gemini_with_retry(
    prompt_payload, 
    'live_grade_prediction'
)
```

**‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö rate limit ‡∏Å‡πà‡∏≠‡∏ô
2. ‡∏ñ‡πâ‡∏≤‡∏ú‡πà‡∏≤‡∏ô ‚Üí ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Gemini API
3. ‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠ quota error ‚Üí retry ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (max 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)
4. ‡∏ñ‡πâ‡∏≤‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ‚Üí ‡∏™‡πà‡∏á error message ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£

## Best Practices

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤
1. ‡πÉ‡∏ä‡πâ `call_gemini_with_retry()` ‡πÅ‡∏ó‡∏ô `call_gemini_structured()` ‡πÄ‡∏™‡∏°‡∏≠
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö rate limit ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API
3. ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ error codes: 503, 429, 500

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
1. ‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠ quota error ‚Üí ‡∏£‡∏≠ 1-2 ‡∏ô‡∏≤‡∏ó‡∏µ
2. ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢ ‚Üí ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏õ‡πá‡∏ô Paid Tier
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ GEMINI_API_KEY ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö

## ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

1. **app.py**
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° `RateLimiter` class
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° `@retry_on_quota_error` decorator
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° `call_gemini_with_retry()` function
   - ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á `gemini_predict_route()`
   - ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á `summarize_grades_for_gemini()`

2. **templates/curriculum_prediction_form.html**
   - ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á `fetchGeminiPrediction()` error handling
   - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö HTTP 429 ‡πÅ‡∏•‡∏∞ 503

## ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î

‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:

```python
# ‡πÉ‡∏ô app.py
gemini_rate_limiter = RateLimiter(
    max_requests=15,  # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô 15 requests
    time_window=60     # ‡∏ï‡πà‡∏≠ 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
)

# ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö retry settings
@retry_on_quota_error(
    max_retries=3,      # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô 4 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
    initial_delay=30    # ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
)
```

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### Problem: ‡∏¢‡∏±‡∏á‡πÄ‡∏à‡∏≠ quota error ‡∏ö‡πà‡∏≠‡∏¢
**Solution:** ‡∏•‡∏î‡∏Ñ‡πà‡∏≤ `max_requests` ‡πÉ‡∏ô RateLimiter ‡πÄ‡∏õ‡πá‡∏ô 8 ‡∏´‡∏£‡∏∑‡∏≠ 5

### Problem: Retry ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
**Solution:** ‡∏•‡∏î‡∏Ñ‡πà‡∏≤ `initial_delay` ‡∏´‡∏£‡∏∑‡∏≠ `max_retries`

### Problem: ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏£‡∏≠‡∏ô‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
**Solution:** ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô UI ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á retry

## ‡∏™‡∏£‡∏∏‡∏õ

‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ô‡∏µ‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ:
- ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô‡∏ï‡πà‡∏≠ API errors ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
- ‚úÖ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
- ‚úÖ ‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏à‡∏≠ quota exceeded
- ‚úÖ ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô

---
üìÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠: 2025-11-22
üë®‚Äçüíª ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß: ‚úÖ All tests passed
üöÄ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: Ready for production
